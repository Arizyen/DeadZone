local ImpulseOnDeath = {}

-- Services ------------------------------------------------------------------------

-- Folders -------------------------------------------------------------------------

-- Modules -------------------------------------------------------------------

-- Handlers ----------------------------------------------------------------

-- Instances -----------------------------------------------------------------------

-- Info ---------------------------------------------------------------------------

-- Configs -------------------------------------------------------------------------

-- Types ---------------------------------------------------------------------------

-- Variables -----------------------------------------------------------------------
local localPlayer = game.Players.LocalPlayer
local rng = Random.new()

-- Tables --------------------------------------------------------------------------

------------------------------------------------------------------------------------------------------------------------
-- LOCAL FUNCTIONS -----------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------------------------------------------------
-- GLOBAL FUNCTIONS ----------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------------------------------------------------
-- CONNECTIONS ---------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------
localPlayer:GetAttributeChangedSignal("isRagdolled"):Connect(function()
	if not localPlayer:GetAttribute("isRagdolled") then
		return
	end

	local character = localPlayer.Character
	if character and character.PrimaryPart then
		local primaryPart = character.PrimaryPart
		if primaryPart.AssemblyLinearVelocity.Magnitude > 1 then
			return
		end
		primaryPart:ApplyImpulse(
			Vector3.new(rng:NextNumber(-30, 30), rng:NextNumber(100, 130), rng:NextNumber(-30, 30))
		)
	end
end)

------------------------------------------------------------------------------------------------------------------------
-- RUNNING FUNCTIONS ---------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------

return ImpulseOnDeath
